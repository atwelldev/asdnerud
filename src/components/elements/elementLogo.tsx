"use client";

import { IElement } from "../_interfaces";
import styles from "./elementLogo.module.scss";

import { useEffect, useState } from "react";

export interface IElementLogo extends IElement {
    textlist: IElementLogoText[];
}

interface IElementLogoText {
    id?: number;
    text?: string;
}
export default function ElementLogo(props: IElementLogo) {
    const [slide, setSlide] = useState(1);

    // useEffect без массива значений, за которым надо следить (dependencies), будет срабатывать при каждом рендере. Изменение состояния вызывает новый рендер, который в свою очередь вызывает useEffect.
    // Исправить можно так:
    useEffect(() => {
        const inter = setInterval(() => {
            setSlide((prev) => (prev < 4 ? prev + 1 : 1));
        }, 5000);

        // Запускается после перерисовки
        return () => clearInterval(inter);
    }, []);

    //
    return (
        <div className={styles.elementLogo}>
            <div className={styles.elementLogo__img}>
                <svg
                    width="69"
                    height="83"
                    viewBox="0 0 69 83"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M27.9796 14.6733L1.60404 64.827C1.31929 65.3684 1.58314 66.0364 2.16105 66.2371L3.45893 66.6878C3.91367 66.8457 4.41639 66.6573 4.65523 66.2393L8.48281 59.541L12.4344 52.6257C12.6125 52.3141 12.9438 52.1219 13.3027 52.1219L22.2613 52.1219L31.6527 52.1219C32.2797 52.1219 32.752 51.5516 32.6353 50.9356L32.4117 49.756C32.3222 49.284 31.9096 48.9423 31.4292 48.9423L24.236 48.9423L15.4002 48.9422C14.6569 48.9422 14.1734 48.1599 14.5058 47.495L20.1415 36.2236L27.8001 20.9063C28.1542 20.1982 29.1518 20.1628 29.5551 20.8442L37.605 34.4424L45.6861 47.4134C46.1011 48.0795 45.6222 48.9422 44.8374 48.9422L39.0002 48.9422C38.5142 48.9422 38.0986 49.2916 38.0151 49.7704L37.8094 50.9501C37.7027 51.5618 38.1735 52.1219 38.7945 52.1219L45.5787 52.1219L51.2002 52.1219C51.9842 52.1219 52.4633 51.2606 52.0498 50.5945L29.7143 14.6113C29.3066 13.9545 28.3395 13.989 27.9796 14.6733Z"
                        fill="#3E3E3E"
                    />
                    <path
                        d="M42.9332 26.5649L39.2497 32.1077C39.0154 32.4604 39.0285 32.9225 39.2826 33.2612L41.5001 36.2178L43.3899 33.6585C43.8151 33.0828 44.6898 33.127 45.0547 33.7428L61.1053 60.8282C61.5003 61.4948 61.0198 62.338 60.245 62.338L39.8576 62.338L22.3447 62.3375C21.7924 62.3374 21.3446 62.7852 21.3447 63.3375L21.3448 65.2378C21.3449 65.79 21.7926 66.2377 22.3448 66.2377L67.1517 66.2377C67.9334 66.2377 68.4129 65.3811 68.0041 64.7148L44.6184 26.5955C44.2364 25.9729 43.3375 25.9566 42.9332 26.5649Z"
                        fill="#3E3E3E"
                    />
                    <path
                        d="M52.9457 69.6738H1.88043C1.39418 69.6738 1 70.068 1 70.5543C1 71.0405 1.39419 71.4347 1.88044 71.4347H52.9457C53.4319 71.4347 53.8261 71.0405 53.8261 70.5543C53.8261 70.068 53.4319 69.6738 52.9457 69.6738Z"
                        fill="#3E3E3E"
                        stroke="#3E3E3E"
                        stroke-width="0.5"
                    />
                    <path
                        d="M67.0326 69.6738H59.9891C59.5028 69.6738 59.1086 70.068 59.1086 70.5543C59.1086 71.0405 59.5028 71.4347 59.9891 71.4347H67.0326C67.5188 71.4347 67.913 71.0405 67.913 70.5543C67.913 70.068 67.5188 69.6738 67.0326 69.6738Z"
                        fill="#3E3E3E"
                        stroke="#3E3E3E"
                        stroke-width="0.5"
                    />
                    <path
                        d="M67.0326 80.2402H56.4673C55.9811 80.2402 55.5869 80.6344 55.5869 81.1207C55.5869 81.6069 55.9811 82.0011 56.4673 82.0011H67.0326C67.5188 82.0011 67.913 81.6069 67.913 81.1207C67.913 80.6344 67.5188 80.2402 67.0326 80.2402Z"
                        fill="#3E3E3E"
                        stroke="#3E3E3E"
                        stroke-width="0.5"
                    />
                    <path
                        d="M49.7953 80.2402H25.1431C24.6569 80.2402 24.2627 80.6344 24.2627 81.1207C24.2627 81.6069 24.6569 82.0011 25.1431 82.0011H49.7953C50.2816 82.0011 50.6757 81.6069 50.6757 81.1207C50.6757 80.6344 50.2816 80.2402 49.7953 80.2402Z"
                        fill="#3E3E3E"
                        stroke="#3E3E3E"
                        stroke-width="0.5"
                    />
                    <path
                        d="M19.4891 80.2402H1.88043C1.39418 80.2402 1 80.6344 1 81.1207C1 81.6069 1.39418 82.0011 1.88043 82.0011H19.4891C19.9754 82.0011 20.3696 81.6069 20.3696 81.1207C20.3696 80.6344 19.9754 80.2402 19.4891 80.2402Z"
                        fill="#3E3E3E"
                        stroke="#3E3E3E"
                        stroke-width="0.5"
                    />
                    <path
                        d="M67.0326 74.957H35.337C34.8507 74.957 34.4565 75.3512 34.4565 75.8375C34.4565 76.3237 34.8507 76.7179 35.337 76.7179H67.0326C67.5189 76.7179 67.9131 76.3237 67.9131 75.8375C67.9131 75.3512 67.5189 74.957 67.0326 74.957Z"
                        fill="#3E3E3E"
                        stroke="#3E3E3E"
                        stroke-width="0.5"
                    />
                    <path
                        d="M30.0543 74.957H1.88043C1.39418 74.957 1 75.3512 1 75.8375C1 76.3237 1.39419 76.7179 1.88044 76.7179H30.0543C30.5406 76.7179 30.9348 76.3237 30.9348 75.8375C30.9348 75.3512 30.5406 74.957 30.0543 74.957Z"
                        fill="#3E3E3E"
                        stroke="#3E3E3E"
                        stroke-width="0.5"
                    />
                    <path
                        d="M1 2V53.4066C1 54.4439 2.3845 54.7952 2.87903 53.8834L28.3177 6.98087C28.6913 6.29199 29.6761 6.28107 30.0649 6.96149L38.9646 22.5358C39.3264 23.1691 40.2226 23.2144 40.6465 22.6209L43.2637 18.957C43.6799 18.3742 44.556 18.4051 44.9301 19.0158L66.0603 53.507C66.5876 54.3677 67.913 53.994 67.913 52.9846V2C67.913 1.44772 67.4653 1 66.913 1H2C1.44772 1 1 1.44772 1 2Z"
                        fill="#3E3E3E"
                        stroke="#3E3E3E"
                    />
                </svg>
            </div>
            <div className={styles.elementLogo__line}></div>

            <div className={styles.elementLogo__text}>
                <h2>
                    АСД-Неруд<span>.ltd</span>
                </h2>
                <ul>
                    {[
                        { id: 1, text: "Стройматериалы оптом" },
                        { id: 2, text: "Нерудные материалы" },
                        { id: 3, text: "Продажа грунта" },
                        { id: 4, text: "Все для дома и стройки" },
                    ].map((e) => {
                        return (
                            <li
                                key={e.id}
                                className={slide == e.id ? styles._active : ""}
                            >
                                {e.text}
                            </li>
                        );
                    })}
                </ul>
            </div>
        </div>
    );
}
